!function(){gsap.timeline();var e={},t=null,o=null,r=function(){navigator.userAgent.toLowerCase();var e=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t="undefined"!=typeof InstallTrigger,o=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),r=!!document.documentMode,i=!r&&!!window.StyleMedia,n=!!window.chrome&&!!window.chrome.webstore,a=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,d=/(android)/i.test(navigator.userAgent);if(e)return"Opera";if(t)return"Firefox";if(o)return"Safari";if(r)return"IE";if(i)return"Edge";if(n)return"Chrome";if(a)return"iOS";if(d)return"Android"}(),i=!1,n="#000000",a=1;let d={};window.utils={getRowMaskHeight(e){let t=document.querySelector(e);t||console.warn("SVGText - getRowMaskHeight: "+e+" does not exist.");let o=t.querySelector(".rowmask");return o||console.warn("SVGText - getRowMaskHeight: "+e+" does not have row masks."),t&&o?Number(o.getAttribute("height")):null}},e.init=function(){console.log("Template: Ad Fully Loaded - Init"),e.loadScript("standard/content.js",e.prep)},e.prep=function(){var i;t=window.AdHubTemplateContent,o=window.templateConfig,window.endframe=t.endframe,o&&(d.borderColor=templateProperties.borderColor||n,d.borderThickness=templateProperties.borderThickness||a,d.dimensions=-1!=(i=templateProperties.dimensions).indexOf("x")&&{width:i.split("x")[0],height:i.split("x")[1]},d.borderThickness&&e.createBorder()),function(e){if("iOS"===r||"Android"===r)return!1;let t=e;for(var o=0;o<t.length;o++){var i=t[o];if("IE"===r||"Safari"===r||"Edge"===r)return void gsap.set(i,{rotation:"+=.01"});if("Firefox"===r&&""===i.style.outline&&(i.style.outline="1px solid transparent"),i.classList.contains("skip-smoothify"))return;gsap.set(i,{rotation:"+=.01",z:"+=.1"})}}(document.querySelectorAll(".smoothify")),function(e){let t=e;for(var o=0;o<t.length;o++){var r=t[o];gsap.set(r,{y:"+=.1",rotation:"+=.01"})}}(document.querySelectorAll("svg path, svg circ, svg rect, svg g")),"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)}),e.bind(),e.createBorder(),e.svgPostProcess(),t.init(),document.querySelector(".dcstudio-autoplay-video")&&window.Enabler&&e.loadDCStudioVideoTracking((function(){e.loadVideo(e.start)}))},e.loadDCStudioVideoTracking=function(e){Enabler.loadModule(studio.module.ModuleId.VIDEO,(function(){var t=document.querySelector(".dcstudio-autoplay-video");studio.video.Reporter.attach("ad_video",t),console.log("Template: DCStudio Video Tracking Loaded"),e()}))},e.loadVideo=function(t){if(document.querySelector("#catch-all").addEventListener("click",e.endframe),console.log("Template: Loading Video..."),!window.Enabler)throw Error("Template: DCStudio Video: DCStudio Enabler not found. Make sure it's being loaded properly.");var o=document.querySelector(".dcstudio-autoplay-video");let r=document.createElement("source");o.addEventListener("playing",(function(){console.log("Template: Video Playing"),t()})),o.addEventListener("ended",(function(){console.log("Template: Video Ended")})),r.addEventListener("error",(function(e){console.warn("Template: Video Load Error"),t()})),r.setAttribute("src",Enabler.getUrl(templateProperties[o.id])),o.appendChild(r),o.play()},e.dcStudioExit=function(){Enabler.exit("Catch All","https://www.google.com")},e.start=function(){!0!==i?(console.info("Start Called First Run"),i=!0,e.revealRoot(),t.animation(),t.play(),e.createTimelineControls()):console.warn("Start Called Again")},e.endframe=function(){if(1!==t.tl.progress()){if(console.log("Template: Endframe"),document.querySelector("video")){let e=document.querySelector("video");e.currentTime=e.duration,e.pause()}t.endframe()}},e.createTimelineControls=function(){window.GSDevTools?window.GSDevTools.create({container:"#gs-container",animation:"mainAnimation",loop:!1}):console.info("no gsdev tools")},e.svgPostProcess=function(){if("IE"!=r)for(var t=document.querySelectorAll("svg"),o=0;o<t.length;o++){var i=t[o];e.svgShadowProcess(i),e.svgBlurProcess(i)}},e.loadScript=function(e,t){var o=Math.floor(Date.now()/10),r=document.createElement("script");r.setAttribute("src",e+"?unique="+o),document.body.appendChild(r),r.addEventListener("load",t,!1)},e.svgBlurProcess=function(e){},e.svgShadowProcess=function(e){var t=e.querySelector("defs");t||(e.innerHTML+="<defs></defs>",t=e.querySelector("defs"));for(var o=e.querySelectorAll("[data-shadow]"),r="",i=0;i<o.length;i++){var n=o[i],a=n.getAttribute("data-shadow").replace(/\s/g,"").split(","),d={};for(var l in a){var s=a[l].split(":")[0],c=a[l].split(":")[1];d[s]=c}var u="progDropshadow"+i,f={height:e.viewBox.baseVal.height,width:e.viewBox.baseVal.width},p={offsetX:Number(d.offsetX)||0,offsetY:Number(d.offsetY)||0,height:Number(d.height)||null,width:Number(d.width)||null,blur:Number(d.blur)||0,opacity:Number(d.opacity)||1,color:String(d.color)||"#000000"},g=String('<filter id="DROP_ID" filterUnits="userSpaceOnUse" height="FILTER_HEIGHT" width="FILTER_WIDTH"><feDropShadow dx="DROP_OFFSET_X" dy="DROP_OFFSET_Y" stdDeviation="DROP_BLUR" flood-color="DROP_COLOR" width="DROP_WIDTH" height="DROP_HEIGHT" flood-opacity="DROP_OPACITY" filterUnits="userSpaceOnUse"/>/></filter>'),h=p.blur<1?1:p.blur,m=2*Math.ceil(3*h*Math.sqrt(2*Math.PI)/4+.5),w=f.width+p.offsetX+m,v=f.height+p.offsetY+m;g=(g=(g=(g=(g=(g=(g=(g=(g=(g=g.replace("DROP_OFFSET_X",p.offsetX)).replace("DROP_OFFSET_Y",p.offsetY)).replace("DROP_BLUR",p.blur)).replace("DROP_COLOR",p.color)).replace("DROP_OPACITY",p.opacity)).replace("DROP_WIDTH",p.width||w)).replace("DROP_HEIGHT",p.height||v)).replace("DROP_ID",u)).replace("FILTER_WIDTH",w)).replace("FILTER_HEIGHT",v),n.style.filter="url(#"+u+")",r+=g}t.innerHTML=t.innerHTML+r},e.revealRoot=function(){gsap.set("#root-wrapper",{autoAlpha:1})},e.createBorder=function(){var e=document.querySelector("#border"),t=Number(d.borderThickness.replace("px",""));t&&(e.style.height=d.dimensions.height-2*t+"px",e.style.width=d.dimensions.width-2*t+"px",e.style.border=t+"px solid "+d.borderColor)},e.bind=function(){var e=document.querySelector("#hit");e.addEventListener("mouseover",t.ctaHoverOver),e.addEventListener("mouseout",t.ctaHoverOut)},window.AdHubTemplate=e}();